import{j as e}from"./jsx-runtime-z8MfsBtr.js";import{r as o}from"./index-BofL8h0e.js";import{M as p}from"./Modal-B2ppdwVx.js";import{B as n}from"./Button-VBjU_o9A.js";const x=({widgetFactory:i,initialWidgets:l=[]})=>{const[s,a]=o.useState(l),[c,r]=o.useState(!1),h=t=>{const d={id:`widget-${Date.now()}`,type:t};a([...s,d]),r(!1)},m=t=>{a(s.filter(d=>d.id!==t))};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"storybook-dashboard-container",children:[s.length===0&&e.jsx("p",{className:"storybook-dashboard-placeholder",children:'Start adding widgets to your dashboard by clicking the "Add Widget" button below.'}),s.map(t=>i.createWidget(t.id,t.type,m))]}),e.jsx("div",{className:"storybook-dashboard-add-widget-button-container",children:e.jsx(n,{primary:!0,label:"Add Widget",onClick:()=>r(!0)})}),e.jsxs(p,{isOpen:c,onClose:()=>r(!1),children:[e.jsx("h2",{children:"Add Widget"}),e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{backgroundColor:"#f0f0f0"},children:[e.jsx("th",{style:{fontWeight:"normal",textAlign:"left",padding:"0.5rem"},children:"Name"}),e.jsx("th",{style:{fontWeight:"normal",textAlign:"left",padding:"0.5rem"},children:"Description"}),e.jsx("th",{style:{fontWeight:"normal",textAlign:"left",padding:"0.5rem"},children:"Action"})]})}),e.jsx("tbody",{children:i.getWidgetTypes().map(({type:t,label:d,description:g})=>e.jsxs("tr",{style:{borderBottom:"1px solid #e0e0e0"},children:[e.jsx("td",{style:{fontWeight:"bold",padding:"0.5rem"},children:d}),e.jsx("td",{style:{padding:"0.5rem"},children:g}),e.jsx("td",{style:{padding:"0.5rem"},children:e.jsx(n,{primary:!0,size:"small",label:"Add",onClick:()=>h(t)})})]},t))})]})]})]})};x.__docgenInfo={description:"",methods:[],displayName:"Dashboard",props:{initialWidgets:{required:!1,tsType:{name:"Array",elements:[{name:"WidgetInstance"}],raw:"WidgetInstance[]"},description:"",defaultValue:{value:"[]",computed:!1}},widgetFactory:{required:!0,tsType:{name:"WidgetFactory"},description:""}}};export{x as D};
